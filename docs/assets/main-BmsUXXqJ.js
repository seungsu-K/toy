(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();function S(t,n){return document.querySelector(`.cell[data-row="${t}"][data-col="${n}"]`)}function O(){return{mine:!1,opened:!1,flagged:!1}}function x(t,n){return new Array(t).fill(null).map(()=>new Array(n).fill(null).map(()=>O()))}function E(t,n,r,c){let e=0;for(;e<c;){const o=Math.floor(Math.random()*t),s=Math.floor(Math.random()*n);r[o][s].mine||(r[o][s].mine=!0,e++)}return r}function C(t,n,r,c){return t>=0&&t<r&&n>=0&&n<c}function R(t,n){switch(n){case"ì´ˆê¸‰":n="beginner";break;case"ì¤‘ê¸‰":n="intermediate";break;case"ê³ ê¸‰":n="expert";break}t.classList.remove("beginner","intermediate","expert"),t.classList.add(n)}const h={ì´ˆê¸‰:{boardSize:{rows:9,cols:9},mines:10},ì¤‘ê¸‰:{boardSize:{rows:16,cols:16},mines:40},ê³ ê¸‰:{boardSize:{rows:24,cols:20},mines:99}};let a="ì´ˆê¸‰",i=[],d=!1,f=h[a].mines,g=0,m=!1,L;const y=document.querySelector("#board"),$=document.querySelector("#level"),z=document.querySelector("#mines"),N=document.querySelector(".button_restart"),M=document.querySelector("#time"),p=document.querySelector("#result");function v(t){const{boardSize:n,mines:r}=h[t],{rows:c,cols:e}=n;d=!1,i=x(c,e),H(),K(),R(y,t),E(c,e,i,r),k(r),P(c,e)}function k(t){z.textContent=`${t}`}function P(t,n){y.innerHTML="";for(let r=0;r<t;r++)for(let c=0;c<n;c++){const e=document.createElement("div");e.classList.add("cell"),e.dataset.row=r,e.dataset.col=c,e.addEventListener("click",T),e.addEventListener("contextmenu",B),y.appendChild(e)}}function T(t){const{boardSize:n,mines:r}=h[a],{rows:c,cols:e}=n,o=parseInt(t.target.dataset.row),s=parseInt(t.target.dataset.col),l=i[o][s];d||(l.opened?F(o,s,c,e):w(o,s,c,e),V(c,e,r)&&(d=!0,q("You Win ðŸŽ‰"),clearInterval(L)))}function B(t){t.preventDefault();const n=parseInt(t.target.dataset.row),r=parseInt(t.target.dataset.col);d||W(n,r,i)}function w(t,n,r,c){const e=S(t,n),o=i[t][n];if(d||o.opened||o.flagged)return;if(g===0&&!m&&(D(),m=!0),e.classList.add("is-opened"),o.opened=!0,o.mine){e.classList.add("mine"),d=!0,q("Game Over ðŸ’£"),clearInterval(L),m=!1;return}const s=I(t,n,r,c);s===0?(e.classList.add(`num${s}`),A(t,n,r,c)):e.classList.add(`num${s}`)}function A(t,n,r,c){for(let e=-1;e<=1;e++)for(let o=-1;o<=1;o++){const s=t+e,l=n+o;C(s,l,r,c)&&!i[s][l].opened&&w(s,l,r,c)}}function I(t,n,r,c){let e=0;for(let o=-1;o<=1;o++)for(let s=-1;s<=1;s++){const l=t+o,u=n+s;C(l,u,r,c)&&i[l][u].mine&&e++}return e}function F(t,n,r,c){const e=I(t,n,r,c),o=G(t,n,r,c);e===o&&A(t,n,r,c)}function G(t,n,r,c){let e=0;for(let o=-1;o<=1;o++)for(let s=-1;s<=1;s++){const l=t+o,u=n+s;C(l,u,r,c)&&i[l][u].flagged&&e++}return e}function W(t,n,r){const c=S(t,n),e=r[t][n];if(!e.opened){if(e.flagged)c.classList.toggle("is-flagged"),e.flagged=!e.flagged,b(1);else{if(f===0)return;c.classList.toggle("is-flagged"),e.flagged=!e.flagged,b(-1)}k(f)}}function b(t){return f+=t,f}function D(){L=setInterval(()=>{g++,M.textContent=`${g}`},1e3)}function H(){clearInterval(L),g=0,m=!1,M.textContent="0"}function q(t){p.textContent=t,p.classList.remove("hidden")}function K(){p.textContent="",p.classList.add("hidden")}function V(t,n,r){return document.querySelectorAll(".is-opened").length+r===t*n}N.addEventListener("click",()=>v(a));$.addEventListener("change",t=>{a=t.target.value,f=h[a].mines,v(a)});v(a);
